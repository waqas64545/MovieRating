---
title: "movie"
author: "waqas manzoor"
date: "12/30/2021"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}


summary(cars)
install.packages('scales')
install.packages('lessR')
install.packages("ggplot2")
install.packages("ggthemes")
install.packages("dplyr")
library(ggplot2)
library(ggthemes)
library(scales)
library(dplyr)
library(lessR)
data(package = "dplyr")
data(package = "ggplot2")
ls("package:dplyr")
ls("package:ggplot2")
movies = do.call(rbind,strsplit(readLines('movies.dat'),'::',fixed=T))
movies <- as.data.frame(movies)
head(movies)

colnames(movies) <- c("ID","Title","Genre")
movies$ID <- as.numeric(movies$ID)
head(movies)


ratings = read.delim("ratings.dat", header= FALSE ,sep = ':', colClasses = c(NA, "NULL"))
head(ratings)


colnames(ratings) <- c("User","ID","Ratings","Timestamp")
head(ratings)


data = merge(movies,ratings,by = "ID")
data = data[with(data, order(ID)),]
head(data)


ratings<- dplyr::count(data, Ratings, sort = TRUE) %>% 
  mutate(perc = `n` / sum(`n`)) %>% 
  arrange(perc) %>%
  mutate(labels = scales::percent(perc))

library(ggplot2)
ggplot(ratings, aes(x = "", y = perc, fill = factor(Ratings)),alpha = 0.8) +
  geom_col() +
  geom_text(aes(label = labels),
            position = position_stack(vjust = 0.5)) +
  coord_polar(theta = "y")

```


## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
